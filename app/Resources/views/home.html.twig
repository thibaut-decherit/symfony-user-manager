{% extends 'base.html.twig' %}

{% block body %}
    <h1>User Manager</h1>

    {% include ':FlashAlert:flash-alert.html.twig' with {
        'alertType': 'email-change-error',
        'alertStyle': 'danger',
        'textAlign': 'center'
    } %}
    {% include ':FlashAlert:flash-alert.html.twig' with {
        'rawMessage': true,
        'alertType': 'email-change-success-raw',
        'alertStyle': 'success',
        'textAlign': 'center'
    } %}
    {% include ':FlashAlert:flash-alert.html.twig' with {
        'rawMessage': true,
        'alertType': 'account-deletion-request-success-raw',
        'alertStyle': 'success',
        'textAlign': 'center'
    } %}
    {% include ':FlashAlert:flash-alert.html.twig' with {
        'alertType': 'account-deletion-success',
        'alertStyle': 'success',
        'textAlign': 'center'
    } %}
    {% include ':FlashAlert:flash-alert.html.twig' with {
        'alertType': 'account-deletion-error',
        'alertStyle': 'danger',
        'textAlign': 'center'
    } %}

    {% if is_granted("ROLE_USER") %}
        <div class="d-flex">
            <p class="my-2 mr-2">Hi {{ app.user.username }}!</p>
            <a href="{{ path('account') }}" class="my-2 mr-2">My Account</a>
            <a href="{{ path('logout') }}" class="align-self-center">Logout</a>
        </div>
    {% else %}
        <p class="my-2">Hi anonymous visitor!</p>
    {% endif %}

    <p class="my-3">
        <a href="{{ path('registration') }}">Register</a>
        <br/>
        <a href="{{ path('login') }}">Login</a>
        <br/>
        <a href="{{ path('password_reset_request') }}">Reset Password</a>
    </p>
{% endblock %}
